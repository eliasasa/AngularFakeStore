<div class="product-body container" [ngStyle]="load ? {'grid-template-columns': '1fr'} : {}">
    @if (load) {
        <app-load [message]="{message: 'Carregando produto...'}"></app-load>
    } @else if (success) {

        <div class="left-body">
            <div class="product-img">
                <img [src]="produto.image" alt="">
            </div>          
        </div>

        <div class="right-body">
            <div class="product-title">
                <h2>
                    {{produto.title}}
                </h2>
            </div>
            <div class="product-rate">
                <div class="rate-star">
                    @for (icon of getStarIcons(produto.rating.rate); track icon) {
                        @switch (icon) {
                            @case ('full') {
                                <span class="material-icons">
                                    star
                                </span>
                            }
                            @case ('half') {
                                <span class="material-icons">
                                    star_half
                                </span>
                            }
                            @default {
                                <span class="material-icons">
                                    star_border
                                </span>
                            }
                        }
                    }
                </div>
                 ({{produto.rating.count}}) Avaliações
            </div>

            <div class="product-value">
                <h2>R$</h2>
                <h1> {{produto.price}} </h1>
            </div>

            <div class="product-desc">
                {{produto.description}}
            </div>

            <hr class="row">

            <div class="product-inputs">
                <div class="product-qtt">
                    <h4>
                        Quantidade: 
                    </h4>
                    <div class="product-qtt-inp">
                        <button class="btn-minus btn-base btn-roxo" type="button">
                            <span class="material-icons">
                                remove
                            </span>
                        </button>
                        <input class="inp-qtt" type="number" value="1">
                        <button class="btn-plus btn-base btn-roxo" type="button">
                            <span class="material-icons">
                                add
                            </span>
                        </button>
                    </div>
                </div>
                <div class="product-actions">
                    
                    <button type="button" class="btn-base btn-roxo-sec">
                        <span class="material-icons">
                            add_shopping_cart
                        </span>
                        CARRINHO
                    </button>
                    <button class="CartBtn btn-base btn-roxo">
                        <span class="IconContainer"> 
                            <svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 576 512" fill="#fff" class="cart"><path d="M0 24C0 10.7 10.7 0 24 0H69.5c22 0 41.5 12.8 50.6 32h411c26.3 0 45.5 25 38.6 50.4l-41 152.3c-8.5 31.4-37 53.3-69.5 53.3H170.7l5.4 28.5c2.2 11.3 12.1 19.5 23.6 19.5H488c13.3 0 24 10.7 24 24s-10.7 24-24 24H199.7c-34.6 0-64.3-24.6-70.7-58.5L77.4 54.5c-.7-3.8-4-6.5-7.9-6.5H24C10.7 48 0 37.3 0 24zM128 464a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm336-48a48 48 0 1 1 0 96 48 48 0 1 1 0-96z"></path></svg>
                        </span>
                        <p class="text">COMPRAR</p>
                    </button>
                    
                    <!-- From Uiverse.io by catraco --> 
                    <div class="heart-container" title="Like">
                        <input type="checkbox" class="checkbox" id="Give-It-An-Id" [checked]="isFavorited" (click)="toggleFavorite(produto)">
                        <div class="svg-container">
                            <svg class="svg-outline" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#944fe4" d="M9 2H5v2H3v2H1v6h2v2h2v2h2v2h2v2h2v2h2v-2h2v-2h2v-2h2v-2h2v-2h2V6h-2V4h-2V2h-4v2h-2v2h-2V4H9zm0 2v2h2v2h2V6h2V4h4v2h2v6h-2v2h-2v2h-2v2h-2v2h-2v-2H9v-2H7v-2H5v-2H3V6h2V4z"/></svg>
                            <svg class='svg-filled' xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M9 4H11V6H13V4H15V2H19V4H21V6H23V12H21V14H19V16H17V18H15V20H13V22H11V20H9V18H7V16H5V14H3V12H1V6H3V4H5V2H9V4Z" fill="#944fe4"/>
                            </svg>
                            <svg class="svg-celebrate" width="100" height="100" xmlns="http://www.w3.org/2000/svg">
                                <polygon points="10,10 20,20"></polygon>
                                <polygon points="10,50 20,50"></polygon>
                                <polygon points="20,80 30,70"></polygon>
                                <polygon points="90,10 80,20"></polygon>
                                <polygon points="90,50 80,50"></polygon>
                                <polygon points="80,80 70,70"></polygon>
                            </svg>
                        </div>
                    </div>
                    
                </div>
            </div>

            <div class="product-data">
                <h5> Status: Disponível </h5>
                <h6> Categoria: {{produto.category}} </h6>
                
            </div>



        </div>


    } @else {
        erro
    }
</div>
